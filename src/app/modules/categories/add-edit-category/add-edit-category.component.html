<app-base-modal [title]="'Add New Category'">
    <ng-container body>
        <form [formGroup]="form">
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group">
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Type</mat-label>
                            <mat-select [formControl]="formType">
                                <mat-option value="Category">Category</mat-option>
                                <mat-option value="Sub Category">Sub Category</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-12" *ngIf="formType?.value === 'Sub Category'">
                    <div class="form-group">
                        <mat-form-field appearance="outline" class="w-100">
                            <input matInput formControlName="categoryId" [matAutocomplete]="categoryAutocomplete" />
                            <mat-label>Category</mat-label>
                        </mat-form-field>
                        <mat-autocomplete #categoryAutocomplete="matAutocomplete" autoActiveFirstOption>
                            <mat-option *ngFor="let option of categoryOptions$ | async" [value]="option.name">
                                {{option.name}}
                            </mat-option>
                        </mat-autocomplete>
                    </div>
                </div> 
                <div class="col-md-12">
                    <div class="form-group">
                        <mat-form-field appearance="outline" class="w-100">
                            <input matInput formControlName="name" />
                            <mat-label>Name</mat-label>
                        </mat-form-field>
                    </div>
                </div>
                
                
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group">
                        <mat-form-field appearance="outline" class="w-100">
                            <textarea matInput formControlName="description"></textarea>
                            <mat-label>Description</mat-label>
                        </mat-form-field>
                    </div>
                </div> 
            </div>
        </form>
    </ng-container>
    <ng-container actions>
        <button mat-button mat-dialog-close>Cancel</button>
        <button mat-button cdkFocusInitial (click)="onSubmit()">Submit</button>
    </ng-container>
    
</app-base-modal>


 
